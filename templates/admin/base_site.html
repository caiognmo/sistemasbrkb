{% extends "admin/base.html" %}
{% load i18n %}

{% block branding %}
<div id="site-name">
    <a href="{% url 'admin:index' %}">
        <img src="/media/adminlogo.webp" alt="SistemasBr Admin Logo" style="height: 40px; margin-top: -5px;" />
    </a>
</div>
{% endblock %}

{% block userlinks %}
    {% get_current_language as LANGUAGE_CODE %}
    {% get_available_languages as LANGUAGES %}
    {% get_language_info_list for LANGUAGES as languages %}

    <div class="language-selector" style="display: inline-block; margin-right: 20px;">
        <form action="/i18n/setlang/" method="post" style="margin: 0;">
            {% csrf_token %}
            <input name="next" type="hidden" value="{{ request.path }}">
            <select name="language" onchange="this.form.submit()">
                {% for language in languages %}
                    <option value="{{ language.code }}" {% if language.code == LANGUAGE_CODE %} selected {% endif %}>
                        {{ language.name_local }} ({{ language.code }})
                    </option>
                {% endfor %}
            </select>
        </form>
    </div>
    {{ block.super }}
{% endblock %}